{% extends "timer_app/base.html" %}
{% load timer_filters %}

{% block title %}Delete Session - Timer Tracker{% endblock %}

{% block breadcrumb %}
<div class="breadcrumb">
    <a href="{% url 'home' %}">Home</a>
    <span>›</span>
    <a href="{% url 'customer_list' %}">Customers</a>
    <span>›</span>
    <a href="{% url 'customer_detail' session.timer.project.customer.pk %}">{{ session.timer.project.customer.name }}</a>
    <span>›</span>
    <a href="{% url 'project_detail' session.timer.project.pk %}">{{ session.timer.project.name }}</a>
    <span>›</span>
    <a href="{% url 'timer_detail' session.timer.pk %}">{{ session.timer.task_name }}</a>
    <span>›</span>
    <span>Delete Session</span>
</div>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px;">
    <div class="card-header">Delete Session</div>
    
    <p>Are you sure you want to delete this session?</p>
    
    <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <p><strong>Timer:</strong> {{ session.timer.task_name }}</p>
        <p><strong>Start:</strong> {{ session.start_time|date:"Y-m-d H:i:s" }}</p>
        <p><strong>End:</strong> 
            {% if session.end_time %}
                {{ session.end_time|date:"Y-m-d H:i:s" }}
            {% else %}
                ACTIVE
            {% endif %}
        </p>
        <p><strong>Duration:</strong> {{ session.duration_seconds|format_duration }}</p>
        <p><strong>Note:</strong> {{ session.note|default:"No note" }}</p>
    </div>

    <form method="post" style="margin-top: 1.5rem;">
        {% csrf_token %}
        <div class="actions">
            <button type="submit" class="btn btn-danger">Yes, Delete</button>
            <a href="{% url 'timer_detail' session.timer.pk %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}

