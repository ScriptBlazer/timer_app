{% extends "timer/base.html" %}
{% load timer_filters %}

{% block title %}Timers - Timer Tracker{% endblock %}

{% block breadcrumb %}
<div class="breadcrumb">
    <a href="{% url 'home' %}">Home</a>
    <span>â€º</span>
    <span>Timers</span>
</div>
{% endblock %}

{% block content %}
<div class="header-row">
    <h1>My Timers</h1>
    <a href="{% url 'timer_create' %}" class="btn">+ Create New Timer</a>
</div>

<p style="color: #666; margin-bottom: 2rem;">
    Create timer templates here and assign them to projects. Price changes won't affect already completed sessions.
</p>

{% if timers %}
<div class="timer-grid">
    {% for timer in timers %}
    <div class="card">
        <div class="card-header">
            <h3>{{ timer.task_name }}</h3>
            <span class="badge">{{ timer.price_per_hour|format_currency }}/hr</span>
        </div>
        <div class="card-content">
            <p style="color: #666;">
                Used in {{ timer.project_timers.count }} project{{ timer.project_timers.count|pluralize }}
            </p>
            <div class="actions" style="margin-top: 1rem;">
                <a href="{% url 'timer_edit_global' timer.pk %}" class="btn btn-secondary">Edit</a>
                <a href="{% url 'timer_delete_global' timer.pk %}" class="btn btn-danger">Delete</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <p>No timers yet. Create your first timer to get started!</p>
</div>
{% endif %}
{% endblock %}

